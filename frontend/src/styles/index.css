@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: light;

    /* Semantic tokens for keyboard navigation selection states */
    --color-selection-bg: theme("colors.primary.900 / 90%");
    --color-selection-text: theme("colors.primary.50");
    --color-selection-border: theme("colors.primary.700");
  }

  :root.dark {
    color-scheme: dark;

    /* Dark mode selection states */
    --color-selection-bg: theme("colors.primary.950 / 95%");
    --color-selection-text: theme("colors.primary.100");
    --color-selection-border: theme("colors.primary.800");
  }
}

html,
body,
#root {
  height: 100%;
}

body {
  @apply antialiased;
}

@keyframes savings-wave {
  0% {
    transform: translateY(0);
    opacity: 0.85;
  }

  50% {
    transform: translateY(-4%);
    opacity: 1;
  }

  100% {
    transform: translateY(0);
    opacity: 0.85;
  }
}

.animate-savings-wave {
  animation: savings-wave 1.25s ease-out;
  animation-fill-mode: both;
}

@media (prefers-reduced-motion: reduce) {
  .animate-savings-wave {
    animation: none;
  }
}

/* X close button styling */
.x-close-button {
  /* Remove all outlines */
  outline: none !important;
  outline-offset: 0 !important;
}

/* Override Button component focus styles */
.x-close-button:focus,
.x-close-button:focus-visible,
.x-close-button:active,
.x-close-button:focus-within {
  outline: none !important;
  outline-offset: 0 !important;
  box-shadow: none !important;
}

/* Add subtle focus indicator */
.x-close-button:focus-visible {
  @apply ring-2 ring-primary-600/20 ring-offset-2 ring-offset-ui-surface;
  @apply dark:ring-primary-500/20 dark:ring-offset-ui-surface-dark;
}

/* Ensure specificity for button elements */
button.x-close-button,
button.x-close-button:focus,
button.x-close-button:focus-visible,
button.x-close-button:active {
  outline: none !important;
  outline-color: transparent !important;
  outline-width: 0 !important;
}
